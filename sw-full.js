self.addEventListener("install",(event)=>{event.waitUntil(caches.open("minexlauncher-full").then(async(cache)=>{const cacheAssets=await(await fetch("/resources/data/assets.json")).json(),totalAssets=cacheAssets.length;let cachedAssets=0;for(let asset of cacheAssets){await cache.add(asset);const progress=`${++cachedAssets}/${totalAssets}`;console.log(`Cached: ${asset} (${progress})`)}}))});self.addEventListener("activate",(event)=>{event.waitUntil(caches.keys().then((keyList)=>{return Promise.all(keyList.map((key)=>{if(key!=="minexlauncher-full")return caches.delete(key);else return null}))}).then(()=>{return self.clients.claim()}).then(()=>{return self.clients.matchAll().then((clients)=>{clients.forEach((client)=>{client.postMessage({title:"sw-install-complete"})})})}))});self.addEventListener("fetch",(event)=>{event.respondWith(caches.match(event.request).then((response)=>{return response??fetch(event.request)}))});
